$(window).on("load",e=>{if($(e.target).width()>760){$(".tags-div").addClass("checkbox");$("#tags-container").addClass("col-3 form-group mt-4 bmd-form-group")}else{$(".tags-div").addClass("col-4 pt2");$("#tags-container").addClass("row mx-4 px-sm-5")}});$(window).on("resize",e=>{if($(e.target).width()>760){$(".tags-div").removeClass("col-4 pt2").addClass("checkbox");$("#tags-container").removeClass("row mx-4").addClass("col-3 form-group mt-4 bmd-form-group")}else{$(".tags-div").removeClass("checkbox").addClass("col-4 pt-2");$("#tags-container").removeClass("col-3 form-group mt-4 bmd-form-group").addClass("row mx-4")}});$(document).ready(function(){$("body").bootstrapMaterialDesign();$("#filter-check input").on("click",()=>{tags=[];if($("#filter-check :checkbox:checked").length<0){$(".filter-div").show()}$("#filter-check :checkbox:checked").each(function(){tags.push($(this).val());tags.filter(tag=>tag!==$(this).val())});function checkTags(div){let tagsArray=$(div).attr("data-tags").trim().split(" ");if(tags.every(val=>tagsArray.includes(val))){$(div).show()}else{$(div).hide()}}const divsList=$(".filter-div");[...divsList].forEach(div=>{checkTags(div)})});$(".like-btn").on("click",function(e){recipe_id=$(this).data("id");$.ajax({url:`/like/${ recipe_id }`,type:"post",success:function(response){console.log(response)},error:function(xhr){console.log(xhr)}});e.preventDefault();$(this).toggleClass("like-red");count=Number($(`#like-counter-${ recipe_id }`).html());plus_count=count+1;minus_count=count-1;if($(this).hasClass("like-red")){$(`#like-counter-${ recipe_id }`).html(`${ plus_count }`)}else{$(`#like-counter-${ recipe_id }`).html(`${ minus_count }`)}});let ing=100;$("#add_ingredient").click(()=>{let newLi=$('<li class="list-group-item form-group">');newLi.after().html('<button class="btn btn-sm delete-ingredient" type="button"><i class="material-icons mx-auto">delete_outline</i></button><label for="ingredients-'+ing+'"></label><span class="bmd-group-item is-filled"><input class="form-control form-control-sm" type="search" autocomplete="off" name="ingredients-'+ing+'" id="ingredients-'+ing+'" value="" ></span>');newLi.appendTo("#ingredients");ing+=1});function addDeleteButton(li){$("<button class='btn btn-sm delete-ingredient' type='button'><i class='material-icons mx-auto'>delete_outline</i></button>").insertBefore($(li))}const liList=$("#ingredients > li > label");[...liList].forEach(li=>{addDeleteButton(li)});$("#ingredients").on("click","button",function(){$(this).parent().remove()});$("#ingredients").children().addClass("list-group-item form-group");$("li.list-group-item").find("input").addClass("form-control form-control-sm").attr("autocomplete","off").attr("type","search");$.fn.extend({toggleText:function(a,b){return this.text(this.text()==b?a:b)}});$("#toggle-profile").on("click",function(){$(this).toggleText("Show Liked","Show Owned");$("#profile-jumbo-text").toggleText("Take a look at your posted recipes below","Here are the recipes that you have liked");$("#liked-recipes").toggle();$("#owned-recipes").toggle()});recipeId=$(e.target).data("id");if(confirm("Are you sure you want to delete this recipe?")){location.href=`/deleterecipe/${ recipeId }`}$("#flash").delay(4000).fadeOut()});